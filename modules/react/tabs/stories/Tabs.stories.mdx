import {Tabs} from '@workday/canvas-kit-react/tabs';
import {Specifications} from '@workday/canvas-kit-docs';

import {Basic} from './examples/Basic';
import {NamedKeys} from './examples/NamedKeys';
import {RightToLeft} from './examples/RightToLeft';
import {DisabledTab} from './examples/DisabledTab';
import {SinglePanel} from './examples/SinglePanel';
import {AlternativeTabStop} from './examples/AlternativeTabStop';
import {HoistedModel} from './examples/HoistedModel';
import {DynamicTabs} from './examples/DynamicTabs';

<Meta title="Components/Containers/Tabs/React" component={Tabs} />

# Canvas Kit Tabs

`Tabs` is a [compound component](/getting-started/for-developers/resources/compound-components/),
which means it can be composed in a variety of different ways. It follows the
[W3 Tabs specification](https://www.w3.org/TR/wai-aria-practices/#tabpanel).

[> Workday Design Reference](https://design.workday.com/components/navigation/tabs)

## Installation

```sh
yarn add @workday/canvas-kit-react
```

## Usage

### Basic Example

`Tabs` includes a container `Tabs` component and the following subcomponents: `Tabs.List`,
`Tabs.Item` and `Tabs.Panel`.

<ExampleCodeBlock code={Basic} />

### Named Keys

`Tabs.Item` and `Tabs.Panel` both take an optional `name` attribute that is used for the
`onActivate` callback. This example is identical to the Basic Example, but with named keys for the
`Tabs.Item` and `Tabs.Panel` subcomponents.

<ExampleCodeBlock code={NamedKeys} />

### Right-to-Left

`Tabs` supports right-to-left through the theme of the `CanvasProvider`.

<ExampleCodeBlock code={RightToLeft} />

### Disabled Tab

Set the `disabled` prop of a `Tabs.Item` to `true` to disable it.

<ExampleCodeBlock code={DisabledTab} />

### Alternative Tab Stop

By default, tab panels are focusable for accessibility. If the contents of a tab panel have a
focusable element, you may disable this default behavior by setting the `tabIndex` prop of
`Tabs.Panel` to `undefined`. This example has a tab panel with a focusable button.

<ExampleCodeBlock code={AlternativeTabStop} />

### Hoisted Model

By default, the `Tabs` component will create and use its own model. Alternatively, you may create
and configure a `TabsModel` yourself and pass it in using the `model` prop. "Hoisting" the model
like so allows access to its state and events outside of the `Tabs` component family. Create the
model using the `useTabsModel` hook and configure it with the same configuration props that `Tabs`
receives. Note that if you pass in a configured model, configuration props passed to the `Tabs`
component will be ignored.

In this example, we set up external observation of the model state and create an external button to
trigger an event to change the active tab.

<ExampleCodeBlock code={HoistedModel} />

### Single Tab Panel

The compound component pattern allows for advanced composition. For example, `Tabs` can be composed
to have only a single `Tabs.Panel` using attribute overrides and callbacks. More information about
attributes and callbacks can be found in the prop tables below for each subcomponent.

In this example, we use a hoisted model and the `activeTab` property of the state to show content
from the `contents` object.

<ExampleCodeBlock code={SinglePanel} />

### Dynamic Tabs

The `Tabs.Item` component takes in an optional `index` property if you want to specify the position
of a tab. If not defined, by default it will append tabs to the end. For example, if your tabs are
stored as an array in the state that can be added to along with a fixed tab that should remain at
the end.

<ExampleCodeBlock code={DynamicTabs} />

## Components

### Tabs

#### Usage

`Tabs` is a container component that is responsible for creating a `TabsModel` and sharing it with
its children using React context. It does not represent a real element.

```tsx
// configuration
<Tabs onActivate={({data}) => console.log('Activate tab', data.tab)}>
  {/* subcomponents go here */}
</Tabs>;

// OR

// hoisted model
const model = useTabsModel(config);

<Tabs model={model}>{/* subcomponents go here */}</Tabs>;
```

#### Props

<PropsTable of={Tabs} />

### Tabs.List

#### Usage

`Tabs.List` is a `div` element with a `role=tablist`. It is a container for `Tabs.Item`
subcomponents.

```tsx
<Tabs.List>{/* Tabs.Items go here */}</Tabs.List>
```

#### Props

Undocumented props are spread to the underlying `div` element.

<PropsTable of={Tabs.List} />

### Tabs.Item

#### Usage

`Tabs.Item` is a `button` element with a `role=tab`. Each `Tabs.Item` is associated with a
`Tabs.Panel` either by a `name` attribute or by the position in the list. If a `name` is provided,
it must match the name passed to the corresponding `Tabs.Panel` component.

```tsx
<Tabs.Item name="first">First Tab</Tabs.Item>
```

#### Props

Undocumented props are spread to the underlying `button` element.

<PropsTable of={Tabs.Item} />

### Tabs.Panel

#### Usage

`Tabs.Panel` is a `div` element with a `role=tabpanel`. It is focusable by default. Each
`Tabs.Panel` is controlled by a `Tabs.Item` either by a `name` attribute or by the position in the
list. If a `name` is provided, it must match the name passed to the corresponding `Tabs.Item`
component.

```tsx
<Tabs.Panel name="first">{/* contents of the tab panel */}</Tabs.Panel>
```

#### Props

<PropsTable of={Tabs.Panel} />

## Specifications

<Specifications file="Tabs.spec.ts" name="Tabs" />
