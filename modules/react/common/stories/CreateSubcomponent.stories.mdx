import {Meta} from '@storybook/addon-docs';

<Meta title="Hooks and Utilities/createSubcomponent" />

# createSubcomponent

Once you've built a container component, adding sub component is easy. `createSubcomponent` is
similar to `createContainer` in that it hooks up a lot of the piece for you. The main difference
being that is uses the context created by `createContainer`. This allows access to the model created
at the root level so that you can use any state or events at a child component level.

## Installation

```sh
yarn add @workday/canvas-kit-react
```

## Usage

- It subscribes to the parent context allowing you access to the model hook `state` and `events`
- It attaches your model hook to your component
- It runs any `elemPropsHook` hooks defined
- You can attach `subComponents`.
- It will also extract the element attributes and define the `ref` type based on the element you
  give it.

```tsx
import {createSubcomponent} from '@workday/canvas-kit-react/common';
import {PrimaryButton} from '@workday/canvas-kit-react/button';
export interface DisclosreTargetProps {
  /**
   * The children of the `Expandable.Target`
   */
  children?: React.ReactNode;
}

//... useDiscloseModel

export const DisclosureTarget = createSubcomponent('button')({
  modelHook: useDisclosureModel,
})<DisclosreTargetProps>(({children, ...elemenProps}, Element, model) => {
  return (
    <PrimaryButton
      as={Element}
      onClick={() =>
        model.state.visibility === 'hidden' ? model.events.show() : model.events.hide()
      }
      {...elemenProps}
    >
      {children}
    </PrimaryButton>
  );
});
```
