// Fields
@mixin wdc-form-field-wrapper() {
  margin-bottom: $wdc-spacing-s;
  position: relative;

  .wdc-form-field {
    position: relative;
    min-height: $wdc-spacing-l;
    display: flex;
    flex-direction: column;
  }
}

.wdc-form-field-wrapper {
  @include wdc-form-field-wrapper();
}

@mixin wdc-form-label() {
  @include wdc-type();
  @include wdc-type-body();
  @include wdc-type-variant-label();
  display: block;
}

.wdc-form-label {
  @include wdc-form-label();
  margin-bottom: $wdc-spacing-xxxs;

  &.wdc-form-label-required:after {
    content: '*';
    display: inline-block;
    color: $wdc-color-peach-500;
    margin-left: $wdc-spacing-xxxs;
  }

  & + .wdc-form-textinput,
  & + .wdc-form-textarea,
  & + .wdc-form-select {
    margin-top: $wdc-spacing-xxs;
  }
}

// Form Groups
@mixin wdc-form-group() {
  .wdc-form-label:first-child {
    margin-bottom: $wdc-spacing-xs;
  }

  .wdc-form-field-wrapper:last-child {
    margin-bottom: 0;
  }

  .wdc-form-group-fields {
    display: inline-block;
    flex-grow: 1;
    margin-top: -$wdc-spacing-xxs;

    .wdc-form-field {
      margin-bottom: 0;

      &:last-child {
        margin-bottom: 0;
      }
    }
  }

  .wdc-form-field {
    margin-bottom: $wdc-spacing-s;
  }
}

.wdc-form-group {
  @include wdc-form-group();
}

@mixin wdc-form-label-position-left() {
  .wdc-form-field-wrapper {
    display: flex;

    &::after {
      content: '';
      flex-grow: 999;
    }

    .wdc-form-group-fields {
      margin-top: 0px;
      margin-bottom: 26px;
    }

    & > .wdc-form-field {
      margin-left: $wdc-form-inline-label-width + $wdc-spacing-s;
      // Case where there's no label on the left
      flex-grow: 0;

      .wdc-form-checkbox:first-child,
      .wdc-form-radio:first-child {
        margin-top: $wdc-spacing-xxxs;

        &.wdc-form-alert,
        &.wdc-form-error {
          margin: 0px;
        }
      }
    }

    & > .wdc-form-label + .wdc-form-field {
      margin-left: 0;
    }
  }

  .wdc-form-label {
    min-width: $wdc-form-inline-label-width;
    width: $wdc-form-inline-label-width;
    float: left;
    margin-top: 10px;
    margin-right: $wdc-spacing-l;
    margin-bottom: 0;
  }
}

.wdc-form-label-position-left {
  @include wdc-form-label-position-left();
}
