import {Meta} from '@storybook/addon-docs';
import {Specifications} from '@workday/canvas-kit-docs';

import {Expandable} from '@workday/canvas-kit-labs-react/expandable';

import {StartIcon} from './examples/StartIcon';
import {EndIcon} from './examples/EndIcon';
import {Avatar} from './examples/Avatar';
import {Depth} from './examples/Depth';
import {RTL} from './examples/RTL';
import {LongTitle} from './examples/LongTitle';
import {HoistedModel} from './examples/HoistedModel';

<Meta title="Labs/Expandable" component={Expandable} />

# Canvas Kit Expandable

`Expandable` is a compound component that creates a header to expand or collapse related content.

## Installation

```sh
yarn add @workday/canvas-kit-labs-react
```

## Usage

### Start Icon

For a basic expandable container with a chevron icon before the title, place`Expandable.Icon` before
`Expandable.Title` as children of `Expandable.Target` and pass the `iconPosition` prop to
`Expandable.Icon` with a value of `start`. `Expandable.Icon` will use a right chevron icon when
collapsed and a down chevron icon when expanded.

<ExampleCodeBlock code={StartIcon} />

### End Icon

For an expandable container with a chevron icon after the title, place `Expandable.Title` before
`Expandable.Icon` as children of `Expandable.Target` and pass the `iconPosition` prop to
`Expandable.Icon` with a value of `end`. `Expandable.Icon` will use a down chevron icon when
collapsed and an up chevron icon when expanded.

<ExampleCodeBlock code={EndIcon} />

### With Avatar

To include an avatar image, `Expandable.Avatar` should be placed between `Expandable.Icon` and
`Expandable.Title`. An `iconPosition` prop with a value of either `start` or `end` should be passed
to `Expandable.Icon` depending on whether the `Expandable.Icon` is placed before or after
`Expandable.Title`.

<ExampleCodeBlock code={Avatar} />

### Right to Left (RTL)

Expandable container has bidirectional support and should function as expected with RTL languages as
long as the content direction is set in your Canvas theme.

<ExampleCodeBlock code={RTL} />

### Depth

The `depth` prop passed to `Expandable` allows you to adjust the visual elevation of a component
using our depth tokens.

<ExampleCodeBlock code={Depth} />

### Title Wrap

Long titles will wrap to the next line and increase the height of the container.

<ExampleCodeBlock code={LongTitle} />

You can also have direct access to the model if

### Hoisted Model

If you you need direct access to the model, you can hoist it with the `useExpandableModel` hook. In
the example below, we're hoisting the models to expand and collapse all three containers at once.

<ExampleCodeBlock code={HoistedModel} />

## Components

### Expandable

#### Usage

`Expandable` wraps an `Expandable.Target` and an `Expandable.Content`. By default, it provides a
`DisclosureModel` for its sub components. Alternatively, a model may be passed in using the hoisted
model pattern.

#### Props

<ArgsTable of={Expandable} />

### Expandable.Target

#### Usage

`Expandable.Target` creates a heading and a button. The heading is a semantic heading to describe
the associated content. The button provides users the ability to toggle the associated content.

As according to the
[W3 disclosure specification](https://www.w3.org/TR/wai-aria-practices-1.1/#disclosure), the button
has `aria-expanded` and `aria-controls` attributes set by default

This component should hold an `Expandable.Icon`, an optional `Expandable.Avatar`, and an
`Expandable.Title`.

#### Props

`headingLevel` is the only prop spread to the underlying heading. All other props are spread to the
button.

<ArgsTable of={Expandable.Target} />

### Expandable.Title

#### Usage

`Expandable.Title` styles the target text that describes the content.

#### Props

<ArgsTable of={Expandable.Title} />

### Expandable.Icon

#### Usage

`Expandable.Icon` creates an icon to visually indicate the state of the content. It takes an
`iconPosition` prop to determine which chevron icon to use.

#### Props

`iconPosition` takes a value of either `start` or `end`. If no value is provided, it will default to
`start`. Given a value of `start` it will use a chevron that points down when the container is
expanded and right when the container is collapsed. Given a value of `end`, it will use a chevron
that points up when the container is expanded and down when the container is collapsed.

<ArgsTable of={Expandable.Icon} />

### Expandable.Avatar

#### Usage

`Expandable.Avatar` is an optional component that creates an `Avatar` to display a decorative image.

#### Props

<ArgsTable of={Expandable.Avatar} />

### Expandable.Content

#### Usage

`Expandable.Content` holds the content that will be conditionally expanded and collapsed. It has an
`id` to ensure the `Expandable.Target` properly set it to the `aria-controls` attribute.

#### Props

<ArgsTable of={Expandable.Content} />
