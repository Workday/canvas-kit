import {Meta} from '@storybook/addon-docs/blocks';

import {Toast} from '@workday/canvas-kit-labs-react/toast';
import {Success} from './examples/Success';
import {Error} from './examples/Error';
import {WithCloseButton} from './examples/WithCloseButton';
import {WithActionLink} from './examples/WithActionLink';
import {WithActionLinkAndCloseIcon} from './examples/WithActionLinkAndCloseIcon';
import {WithPopper} from './examples/WithPopper';
import {RTL} from './examples/RTL';

<Meta title="Labs/Toast/React" component={Toast} />

# Canvas Kit Toast

[![LABS: Beta](https://img.shields.io/badge/LABS-alpha-orange)](https://github.com/Workday/canvas-kit/tree/master/modules/labs-react/README.md)
This component is work in progress and currently in pre-release.

`Toast` is a Canvas-styled React toast component. It allows for a brief message to be be shown about
a process or action occurring in the app.

## Installation

```sh
yarn add @workday/canvas-kit-labs-react
```

## Usage

### Basic Usage

It is up to the consumer on how a Toast is triggered and it's contents. In a basic example, a Toast
should provide some information. By default, a Toast's `mode` is set to `polite` but this may vary
based on the contents of the Toast.

<ExampleCodeBlock code={Success} />

---

#### WithCloseButton

A Toast and can also be dismissive with a `Toast.Close`.

<ExampleCodeBlock code={WithCloseButton} />

---

#### Error

If a Toast is to convey something urgent such as an error, it's mode should be set to `alert`. This
changes `aria-live` to `assertive` as well as `role` to be `alert`. Doing so provides a better
accessibility experience.

<ExampleCodeBlock code={Error} />

---

#### With an Action Link

There are time where a Toast might have a follow up action. If a Toast has an action, it's `mode`
should be set to `dialog`. By doing so, the `role` of the Toast is set to `dialog` and an
`aria-label` is added to indicate that it's a notifcation of some kind.

<ExampleCodeBlock code={WithActionLink} />

---

#### Complete Example with Popper

The Toast on its own is a stylized `Card` component. However, when paired with `Popper` you can use
it to place it wherever you like on the page.

<ExampleCodeBlock code={WithPopper} />

---

#### With an Action Link and CloseIcon

<ExampleCodeBlock code={WithActionLinkAndCloseIcon} />

---

#### With RTL

Toast also support right to left.

<ExampleCodeBlock code={RTL} />

---

## Component Props

<ArgsTable of={Toast} />

## Components

### Toast

#### Usage

`Toast`renders a `Popup.Card` under the hood. This is the element that based on the `mode` will set
the correct aria attributes. This component also accepts a `model` if you need to define a specific
`id`.

#### Props

<ArgsTable of={Toast} />

### Toast.Body

#### Usage

`Toast.Body` creates a container for the contents of the Toast, including `Toast.Message` and
`Toast.Link`. Under the hood, this renders a `Popup.Body`.

#### Props

<ArgsTable of={Toast.Body} />

### Toast.Icon

#### Usage

`Toast.Icon` provides a decorate icon for the `Toast`. Because you pass any icon to this component,
you should consider the `mode` of the Toast based on the icon. If a Toast is displaying some error,
the `mode` should be set to `alert` so that the correct aria attributes are added to the main
`Toast` component. This components extends all the props from `SystemIcon`.

#### Props

<ArgsTable of={Toast.Icon} />

### Toast.Message

#### Usage

`Toast.Message` creates a container for the message of your toast. You can render any
`React.ReactNode`. By default, this element has a unique `id` set to it. This `id` is used when the
`mode` of the Toast is set to `dialog` so that the message is read out by screen readers.

#### Props

<ArgsTable of={Toast.Message} />

### Toast.Link

#### Usage

`Toast.Link` renders a `Hyperlink` commponent. This is useful when you need an action in your Toast.
If you provide a link in your Toast, the `mode` should be set to `dialog` for accessibility to
properly work.

#### Props

`href: string` An `href` must be provided to meet accessibility standards.

<ArgsTable of={Toast.Link} />

### Toast.Close

#### Usage

`Toast.Close` is used when a Toast is dismissive. You can use a `Popup` and a `usePopupmodel` to add
a click event dismiss the Toast.

#### Props

<ArgsTable of={Toast.Close} />
