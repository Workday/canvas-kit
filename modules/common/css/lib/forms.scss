// Styles common to elements with text boxes like text inputs and selects
@mixin wdc-form-common-box() {
  @include wdc-type();
  @include wdc-type-body();
  background-color: $wdc-color-input-background;
  display: block;
  border: 1px solid $wdc-color-input-border;
  border-radius: $wdc-spacing-xxxs;
  min-width: $wdc-form-field-min-width;
  line-height: $wdc-spacing-s - 2;
  padding: $wdc-spacing-xxs;
  box-sizing: border-box;
  transition: 0.2s border-color, 0.2s box-shadow;
  height: $wdc-spacing-xl;

  &.wdc-form-focus:not([disabled]):not(.wdc-form-disabled),
  &:focus:not([disabled]):not(.wdc-form-disabled) {
    border-color: $wdc-color-input-hover-border;
    border-color: $wdc-color-blueberry-400;
    box-shadow: inset 0 0 0 1px $wdc-color-blueberry-400;
    outline: none;
  }
}

// Styles common to textarea and text inputs
@mixin wdc-form-text() {
  @include wdc-form-common-box();

  &::placeholder {
    /* WebKit, Blink, Edge */
    color: $wdc-color-input-placeholder;
  }

  // Show focus outline still on disabled class
  &.wdc-form-focus:not([disabled]),
  &:focus:not([disabled]) {
    @include wdc-form-focus();
  }

  &:disabled,
  &.wdc-form-disabled {
    background: $wdc-color-soap-100;
    border-color: $wdc-color-input-disabled-border;
    pointer-events: none;

    &::placeholder {
      /* WebKit, Blink, Edge */
      color: $wdc-color-licorice-100;
    }

  }
}

@mixin wdc-form-focus() {
  border-color: $wdc-color-common-focus-outline;
  box-shadow: 0 0 0 1px $wdc-color-common-focus-outline;
  outline: none;
}


@mixin wdc-form-selection-control() {
  padding: 6px 0;
  display: inline-block;
  min-height: 20px;

  input {
    // display: none;

    &:hover+label::after {
      box-shadow: 0 0 0 7px #f0f1f2;
    }

    &+label {
      font-size: 14px;
      line-height: 20px;
      font-weight: 400;
      color: #494949;
      font-family: "Roboto",
        "Helvetica Neue",
        "Helvetica",
        Arial,
        sans-serif;
      position: relative;
      left: 12px;
      padding-right: 12px;
      cursor: pointer;

      // Input styling
      &::before {
        content: '';
        display: inline-block;
        background-color: #ffffff;
        border-radius: 2px;
        border: 1px solid #7b858f;
        box-sizing: border-box;
        width: 18px;
        height: 18px;
        transition: border 200ms ease,
          background-color 200ms;
        position: absolute;
        left: -30px;
        margin-top: 1px;
      }

      // Ripple
      &::after {
        content: '';
        display: inline-block;
        position: absolute;
        border-radius: 16px;
        top: 1px;
        left: -30px;
        width: 18px;
        height: 18px;
        background: #f0f1f2;
        box-shadow: 0 0 0 0px #f0f1f2;
        transition: box-shadow 150ms ease-out;
        z-index: -1;
      }
    }

    // States
    &:hover+label::before {
      border-color: #333d47;
    }

    &:checked+label {
      &::before {
        border-color: $wdc-color-blueberry-400;
        background-color: $wdc-color-blueberry-400;
      }
    }

    &:disabled+label {
      color: #a1aab3;

      &::before {
        border-color: #b9c0c7;
        background-color: #f6f7f8;
      }
    }

    &:disabled:checked+label::before {
      border-color: $wdc-color-blueberry-200;
      background-color: $wdc-color-blueberry-200
    }

    // Focus
    &:focus,
    &:active {
      outline: none;
    }

    &:focus+label::before {
      border-color: $wdc-color-blueberry-400;
      box-shadow: inset 0 0 0 1px #0875e1,
    }

    &:checked:focus+label::before {
      box-shadow: 0 0 0 2px #ffffff,
        0 0 0 4px #0875e1,
        0 0 0 5px transparent;
    }
  }

  &.wdc-form-alert {
    input+label::before {
      border: 1px solid #ffa126;
      box-shadow: 0 0 0 1px #ffa126,
        0 0 0 2px #c06c00;
    }

    input:checked+label::before {
      border-color: #0875e1;
      box-shadow: 0 0 0 2px #ffffff, 0 0 0 4px #ffa126, 0 0 0 5px #c06c00;
    }

    input:focus+label::before {
      border-color: $wdc-color-blueberry-400;
      box-shadow: 0 0 0 0 #ffffff;
    }
  }

  &.wdc-form-error {
    input+label::before {
      border: 1px solid #de2e21;
      box-shadow: 0 0 0 1px #de2e21,
        0 0 0 2px transparent;
    }

    input:checked+label::before {
      border-color: #0875e1;
      box-shadow: 0 0 0 2px #ffffff,
        0 0 0 4px #de2e21,
        0 0 0 5px transparent;
    }

    input:focus+label::before {
      border-color: $wdc-color-blueberry-400;
      border-width: 1px;
      box-shadow: inset 0 0 0 1px #0875e1,
        0 0 0 0 #ffffff;
    }
  }
}
