import {Meta} from '@storybook/addon-docs';
import {Specifications} from '@workday/canvas-kit-docs';

import {StatusIndicator} from '@workday/canvas-kit-preview-react/status-indicator';
import {Basic} from './examples/Basic';
import {Emphasis} from './examples/Emphasis';
import {Icon} from './examples/Icon';
import {Overflow} from './examples/Overflow';
import {Variants} from './examples/Variants';

<Meta title="Preview/Status Indicator/React" component={StatusIndicator} />

Status Indicators help the user quickly identify the status of a task, action, or page element.

## Installation

```sh
yarn add @workday/canvas-kit-preview-react
```

## Usage

### Basic Example

A basic status indicator will render some text with a gray background and low emphasis.

<ExampleCodeBlock code={Basic} />

### Emphasis

Emphasis dictates the contrast between the text and background color and is typically used when you
need to show more visual urgency.

<ExampleCodeBlock code={Emphasis} />

### Icon

You can add an icon to the status indicator as a visual decorator. You can control the position of
the icon depending on where you place it in the structure.

<ExampleCodeBlock code={Icon} />

### Overflow

We strongly discourage the text of a StatusIndicator exceeding its max width which is set to
`200px`. However, in the case where text is overflowed, we suggest your wrap the StatusIndicator in
an `OverflowTooltip` as well as adding a `tabIndex={0}` so that the overflowed text is accessible
via keybord or mouse. You also have access to change the default `maxWidth` via style props.

<ExampleCodeBlock code={Overflow} />

### Variants

A status indicator has different variants which define the background color of it. The variants
include: `gray, orange, blue, green, red, transparent`. Based on the `emphasis` the variant will
either be dark or light.

<ExampleCodeBlock code={Variants} />

## Components

### StatusIndicator

#### Usage

`StatusIndicator` is a container component that is responsible for creating a `StatusIndicatorModel`
and sharing it with its subcomponents using React context. It represents a `HStack` to evenly space
elements. This container also sets a default max width of `200px`.

```tsx
<StatusIndicator emphasis="low" variant="blue">
  {/* Child components */}
</StatusIndicator>
```

Alternatively, you may pass in a model using the hoisted model pattern.

```tsx
const model = useStatusIndicatorModel({
  emphasis: 'low',
  variant: 'blue',
});

<StatusIndicator model={model}>{/* Child components */}</StatusIndicator>;
```

#### Props

Note that if you pass in a `model` configured with `useStatusIndicatorModel`, configuration props
passed to `StatudIndicator` will be ignored.

<ArgsTable of={StatusIndicator} />

### StatusIndicator.Label

#### Usage

`StatusIndicator.Label` is a `<Text/>` component. You can use and extend all props that come from
Text. By default it will apply ellipsis styles when the contents of it exceed the max width.

```tsx
<StatusIndicator.Label>{/*The text to be rendered*/}</StatusIndicator.Label>
```

#### Props

Undocumented props are spread to the underlying `<span>` element.

<ArgsTable of={StatusIndicator.Label} />

### StatusIndicator.Icon

#### Usage

`StatusIndicator.Icon` is a `SystemIcon>` component. It's used as a decorative element to visually
support the StatusIndicator text.

```tsx
<Tabs.Item data-id="first">First Tab</Tabs.Item>
```

#### Props

Undocumented props are spread to the underlying `button` element.

<ArgsTable of={StatusIndicator.Icon} />

## Model

If `Tabs` was stripped of all its markup, attributes, and styling, what would remain is the
[model](/getting-started/for-developers/resources/compound-components/#models). The model is an
object composed of two parts: `state` which describes the current snapshot in time of the component
and `events` which describes events that can be sent to the model.

By default, `Tabs` will create a model and share it internally with its subcomponents using React
context. Alternatively, if you need direct access to the model's `state` and `events` outside of the
`Tabs` component, you may configure your own model with `useTabsModel` and pass it to `Tabs` via a
pattern called
[hoisting the model](/getting-started/for-developers/resources/compound-components/#configuring-a-model).

```tsx
const model = useTabsModel({
  onActivate({data}) {
    console.log('Activated Tab', data);
  },
});

<Tabs model={model}>{/* Child components */}</Tabs>;
```
