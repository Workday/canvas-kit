import {Meta} from '@storybook/addon-docs';
import {Specifications} from '@workday/canvas-kit-docs';

import {Pill} from '@workday/canvas-kit-preview-react/pill';

import {Basic} from './examples/Basic';
import {ClickablePillWithAvatar} from './examples/WithAvatar';
import {ClickablePillWithIcon} from './examples/WithIcon';
import {ClickablePillWithCount} from './examples/WithCount';
import {RemovablePill} from './examples/WithRemovable';
import {ListOfPills} from './examples/WithList';

<Meta title="Preview/Pill/React" component={Pill} />

# Canvas Kit Pill

`Pill`s are static or interactive indicators that allow users to input, filter, or label information.

## Installation

```sh
yarn add @workday/canvas-kit-preview-react
```

## Usage

`Pill`s are used to visually label objects on a page for quick recognition. They’re offered as both
static (read-only) and interactive elements. They allow users to filter a list or table, or label
information to help with scanning and organization.

### Basic Example

If the `Pill` has `variant='readOnly'`, it will look like a read-only `Pill`. This is a non-interactive
element that is used to display information.

> **_NOTE:_** By default, the Pill's width will max out at `200px` and the text will be truncated
> with an ellipsis and render an OverflowTooltip on hover and focus. This max width can be changed
> by providing a `maxWidth` prop on the Pill.

<ExampleCodeBlock code={Basic} />

### Interactive Pills

All leading elements (icons or avatars) are intended to be descriptive, helping support the label.
Do not rely on the leading element to indicate the interaction behavior. By default a Pill is
considered interactive, therefore it's default variant is `default`.

```tsx
<Pill onClick={() => console.warn('clicked')}>
  <Pill.Avatar />
  Regina Skeltor
</Pill>
```

#### Avatar

You can render an avatar image inside the `Pill` with `Pill.Avatar`. It should appear before the `Pill` text. Because it uses `Avatar` under the hood, you also have access to all `AvatarProps`.

<ExampleCodeBlock code={ClickablePillWithAvatar} />

#### Icon

The `Pill.Icon` icon will default to rendering a `plusIcon`. You can change this by providing a
`icon` prop to `Pill.Icon`

<ExampleCodeBlock code={ClickablePillWithIcon} />

#### Count

The count appears after the label. It is usually associate to the label. If you have a category, the
count will dirrectly correlate to that category.

<ExampleCodeBlock code={ClickablePillWithCount} />

### Removable Pills

Removable Pills display an `X` icon after the label. They have a smaller, more specific focus state
and click target to be more intentional about their actions and to avoid unintended removal of a
Pill.

You can define a removable Pill by providing a `variant='removable'` prop.

```tsx
<Pill variant="removable" onDelete={() => console.warn('clicked')}>
  Pink Shirts
  <Pill.IconButton />
</Pill>
```

In this case, we use a `Pill.IconButton` because the `X` becomes the focusable and clickable
element.

The default icon for `Pill.IconButton` is `xSmallIcon` but this can also be overwritten by passing
an `icon` prop to `Pill.IconButton`

<ExampleCodeBlock code={RemovablePill} />

### List of Pills

Pills can often represent multiple pieces of information such as a filtered list of categories or
skills.

In order to achieve this, use our `HStack` component to wrap each `Pill` and space them out
accordingly.

<ExampleCodeBlock code={ListOfPills} />

## Components

### Pill

This component is the container component for a Pill. It also provides a React Context model for its
sub components. Based on the `variant` prop this component will render different styled Pills.

#### Usage

Example of read only:

```tsx
<Pill variant="readOnly">This is a read only</Pill>
```

If you give this component a `variant='default'` prop it will render as an interactive Pill which
accepts subcomponents.

```tsx
<Pill variant="default" onClick={() => console.log('clicked')}>
  <Pill.Avatar /> Regina Skeltor
</Pill>
```

If you give this component a `variant='removable'` it will render as a span and you can have a
removable Pill that has a smaller click target to prevent users from accidentally delete something.

```tsx
<Pill variant="removable" onDelete={() => console.log('handle remove')}>
  Shoes
  <Pill.IconButton />
</Pill>
```

If you give the component an `onClick` and an `onDelete` and the `variant='default'` only `onClick`
will be called and you'll see a warning in the console suggesting to either provide an onClick or
change the variant to be `removable`.

#### Props

<ArgsTable of={Pill} />

### Pill.Avatar

This component renders an avatar. It supports all props of the `Avatar` component.

#### Usage

```tsx
<Pill onDelete={() => console.log('handle remove')}>
  <Pill.Avatar url={avatarUrl} />
  Regina Skeltor
  <Pill.IconButton />
</Pill>
```

#### Props

<ArgsTable of={Pill.Avatar} />

### Pill.Count

This component renders its `children` as the count.

#### Usage

```tsx
<Pill onClick={() => console.warn('clicked')}>
  Shoes
  <Pill.Count>30</Pill.Count>
</Pill>
```

#### Props

<ArgsTable of={Pill.Count} />

### Pill.Icon

This component renders an `icon`. It not be used with the `default` styling – not `readOnly` or `removable` variants. By default it renders a `plusIcon` but it can be overridden by providing an icon to the `icon` prop.

#### Usage

```tsx
<Pill onClick={() => console.warn('clicked')}>
  <Pill.Icon />
  <Pill.Label>Regina Skeltor</Pill.Label>
</Pill>
```

#### Props

<ArgsTable of={Pill.Icon} />

### Pill.IconButton

This component renders a custom icon button. It is only intended to be used with the `removable` variant. By default, it renders a `xSmallIcon` but can be overridden by providing an icon to the `icon` prop.

#### Usage

```tsx
<Pill variant="removable" onDelete={() => console.warn('clicked')}>
  Pink Shirts
  <Pill.IconButton />
</Pill>
```

#### Props

<ArgsTable of={Pill.IconButton} />

### Pill.Label

This component renders a `<span>` that automatically handles overflow by rendering a tooltip.
There's no need to use this component directly since the overflow is handled for you automatically.

#### Usage

```tsx
<Pill variant="readOnly">
  <Pill.Label>Read-only</Pill.Label>
</Pill>
```

#### Props

<ArgsTable of={Pill.Label} />
