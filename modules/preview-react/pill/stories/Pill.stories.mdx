import {Meta} from '@storybook/addon-docs';
import {Specifications} from '@workday/canvas-kit-docs';

import {Pill} from '@workday/canvas-kit-preview-react/pill';

import {Basic} from './examples/Basic';
import {ClickablePillWithAvatar} from './examples/WithAvatar';
import {ClickablePillWithIcon} from './examples/WithIcon';
import {ClickablePillWithCount} from './examples/WithCount';
import {RemovablePill} from './examples/WithRemovable';
import {ListOfPills} from './examples/WithList';

<Meta title="Preview/Pill/React" component={Pill} />

# Canvas Kit Pill

Pills are static or interactive elements that allow users to input, filter, or label information.

## Installation

```sh
yarn add @workday/canvas-kit-preview-react
```

## Usage

Pills are used to visually label objects on a page for quick recognition. Theyâ€™re offered as both
static (read-only) and interactive elements. They allow users to filter a list or table, or label
information to help with scanning and organization.

### Basic Example

If the Pill only renders text, it will look like a read-only Pill. This is a non-interactive element
that is used to display information.

> **_NOTE:_** By default, the Pill's width will max out at `200px` and the text will be truncated
> with an ellipsis and render an OverflowTooltip on hover and focus. This max width can be changed
> by providing a `maxWidth` prop on the Pill.

<ExampleCodeBlock code={Basic} />

### Interactive Pills

All leading elements (icons or avatars) are intended to be descriptive, helping support the label.
Do not rely on the leading element to indicate the interaction behavior.

You can define an interactive Pill by providing an `onClick` prop.

```tsx
<Pill onClick={() => console.warn('clicked')}>
  <Pill.Avatar />
  Regina Skeltor
</Pill>
```

#### Avatar

The Avatar should appear before the text of a Pill. You have access to all Avatar props.

<ExampleCodeBlock code={ClickablePillWithAvatar} />

#### Icon

The `Pill.Icon` icon will default to rendering a `plusIcon`. You can change this by providing a
`icon` prop to `Pill.Icon`

<ExampleCodeBlock code={ClickablePillWithIcon} />

#### Count

The count appears after the label. It is usually associate to the label. If you have a category, the
count will dirrectly correlate to that category.

<ExampleCodeBlock code={ClickablePillWithCount} />

### Removable Pills

Removable Pills display an `X` icon after the label. They have a smaller, more specific focus state
and click target to be more intentional about their actions and to avoid unintended removal of a
Pill.

You can define a removable Pill by providing an `onDelete` prop.

```tsx
<Pill onDelete={() => console.warn('clicked')}>
  Pink Shirts
  <Pill.IconButton />
</Pill>
```

In this case, we use a `Pill.IconButton` because the `X` becomes the focusable and clickable
element.

The default icon for `Pill.IconButton` is `xSmallIcon` but this can also be overwritten by passing
an `icon` prop to `Pill.IconButton`

<ExampleCodeBlock code={RemovablePill} />

### List of Pills

Pills can often represent multiple pieces of information such as a filtered list of categories or
skills.

In order to achieve this, use our `HStack` component to wrap each `Pill` and space them out
accordingly.

<ExampleCodeBlock code={ListOfPills} />

## Components

### Pill

This component is the container component for a Pill. It also provides a React Context model for its
sub components. If you give this component a `string` as its children, it will render a read only
pill.

#### Usage

Example of read only:

```tsx
<Pill>This is a read only</Pill>
```

If you give this component an `onClick` prop it will render as an interactive Pill which accepts
subcomponents.

```tsx
<Pill onClick={() => console.log('clicked')}>
  <Pill.Avatar /> Regina Skeltor
</Pill>
```

If you give this component an `onDelete` it will render as a span and you can have a removable Pill
that has a smaller click target to prevent users from accidentally delete something.

```tsx
<Pill onDelete={() => console.log('handle remove')}>
  Shoes
  <Pill.IconButton />
</Pill>
```

#### Props

<ArgsTable of={Pill} />

### Pill.Avatar

This component renders an avatar. It supports all props of the `Avatar` component.

#### Usage


<ArgsTable of={Pill.Avatar} />

### Pill.Count

This component renders its `children` as the count.

<ArgsTable of={Pill.Count} />

### Pill.Icon

This component renders an `icon`. This component should only be used when an `onClick` is provided.

<ArgsTable of={Pill.Icon} />

### Pill.IconButton

This component renders an icon button. This is used for removable Pills where the click target and
focus area is solely the icon.

<ArgsTable of={Pill.IconButton} />

### Pill.Label

This component renders a `<span>` that automatically handles overflow by rendering a tooltip.
There's no need to use this component directly since the overflow is handled for you automatically.

<ArgsTable of={Pill.Label} />
