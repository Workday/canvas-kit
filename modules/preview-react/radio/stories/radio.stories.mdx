import {Meta} from '@storybook/addon-docs';
import {Specifications, SymbolDoc} from '@workday/canvas-kit-docs';

import {RadioGroup} from '@workday/canvas-kit-preview-react/radio';

import {Basic} from './examples/Basic';
import {Alert} from './examples/Alert';
import {Error} from './examples/Error';
import {Inverse} from './examples/Inverse';
import {LabelPosition} from './examples/LabelPosition';
import {NoValue} from './examples/NoValue';
import {RefForwarding} from './examples/RefForwarding';
import {Disabled} from './examples/Disabled';
import {Required} from './examples/Required';
import {WithReactHookForm} from './examples/WithReactHookForm';

<Meta title="Preview/Inputs/Radio" component={RadioGroup} />

# Canvas Kit Radio

Radio Buttons allow a user to select one value from a predefined list of 7 or fewer options.

[> Workday Design Reference](https://design.workday.com/components/inputs/radio-buttons)

## Installation

```sh
yarn add @workday/canvas-kit-react
```

## Usage

### Basic Example

`Radio` buttons are intended to be grouped together using a wrapping `RadioGroup` element with a
`name` attribute. This will ensure that all `<input type="radio" />` will share the same `name`,
grouping them together. Also, each `RadioGroup.Radio` must have a unique `value`. This is used to
determine which radio has been selected. You can provide a `value` to the `RadioGroup` element so
that a value is pre selected from the group. To tie it all together, provide an `onChange` to
`RadioGroup` element that sets the selected value on
[state](https://react.dev/learn/state-a-components-memory).

`RadioGroup` should be used in tandem with [Form Field](/components/inputs/form-field/) where the
`useFieldset` prop is set to `true` to meet accessibility standards. This ensures that the `label`
text from `FormField` is attached to the `RadioGroup` and read out as a group for voiceover.

<ExampleCodeBlock code={Basic} />

Because the `RadioGroup` and `RadioGroup.Radio` have the correct WAI-ARIA
[properties](https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/Roles/radiogroup_role#associated_wai-aria_roles_states_and_properties),
keyboard navigation is supported.

#### Alert

To set a `RadioGroup` in an alert state, you must set a few props on the `FormField` element
including the `error` prop to `FormField.ErrorType.Alert`, provide `hintText` for the message
associated to the error as well as a `hintId`. You must also set an `aria-describedby` attribute on
the `RadioGroup` element that matches the value of `hintId` set on the `FormField` element. These
attributes ensure that the alert message is associated to the `RadioGroup` and read out by
voiceover.

Use alert when a selection is still valid but there might be additional information that might be
important to show.

<ExampleCodeBlock code={Alert} />

### Error

To set a `RadioGroup` in an error state, you must set a few props on the `FormField` element
including the `error` prop to `FormField.ErrorType.Error`, provide `hintText` for the message
associated to the error as well as a `hintId`. You must also set an `aria-describedby` attribute on
the `RadioGroup` element that matches the value of `hintId` set on the `FormField` element. These
attributes ensure that the error message is associated to the `RadioGroup` and read out by
voiceover.

Use error when the selection is no longer valid.

<ExampleCodeBlock code={Error} />

### Inverse

Set the `variant` prop of `RadioGroup.Radio` to `inverse` to ensure proper contrast on dark
backgrounds.

<ExampleCodeBlock code={Inverse} />

### Radio Group with No Value

Omit the `value` prop from `RadioGroup` to render the group with no selected `RadioGroup.Radio`.

<ExampleCodeBlock code={NoValue} />

### Ref Forwarding

`RadioGroup.Radio` supports [ref forwarding](https://reactjs.org/docs/forwarding-refs.html). It will
forward `ref` to its underlying `<input type="radio">` element.

<ExampleCodeBlock code={RefForwarding} />

### Label Position

Set the `labelPosition` prop of the wrapping `FormField` to designate the position of the label
relative to the `RadioGroup`. `labelPosition` accepts the following values:

- `FormField.LabelPosition.Top` (Default)
- `FormField.LabelPosition.Left`

<ExampleCodeBlock code={LabelPosition} />

### Required

Set the `required` prop of the wrapping `FormField` to `true` to indicate that the field is
required. Labels for required fields are suffixed by a red asterisk.

<ExampleCodeBlock code={Required} />

### Disabled

Set the `disabled` prop of the Radio Button `<RadioGroup.Radio value="gluten-free" disabled />` to
prevent users from interacting with it. Be careful not to disable a pre-selected Radio Button, this
will block keyboard access from the entire Radio Group.

<ExampleCodeBlock code={Disabled} />

### With React Hook Formm

It's common to use input elements with a form library such as
[React Hook Form](https://react-hook-form.com/docs/useform). Here's an example of how to hook
everything up!

<ExampleCodeBlock code={WithReactHookForm} />

## Component API

<SymbolDoc name="RadioGroup" fileName="/preview-react/" />
