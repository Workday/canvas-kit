"use strict";(globalThis.webpackChunkcanvas_kit=globalThis.webpackChunkcanvas_kit||[]).push([[4404],{"./modules/react/combobox/stories/Combobox.stories.ts":(module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Autocomplete=void 0;var _Combobox=function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(__webpack_require__("./modules/react/combobox/stories/Combobox.mdx")),_combobox=__webpack_require__("./modules/react/combobox/index.ts"),_Autocomplete=__webpack_require__("./modules/react/combobox/stories/examples/Autocomplete.tsx");exports.default={title:"Features/Combobox",component:_combobox.Combobox,tags:["autodocs"],parameters:{storySource:{source:'\n    \n    // @ts-nocheck\n    // @ts-expect-error (Converted from ts-ignore)\n    var __STORY__ = "import {Meta, StoryObj} from \'@storybook/react\';\\n\\nimport mdxDoc from \'./Combobox.mdx\';\\n\\nimport {Combobox} from \'@workday/canvas-kit-react/combobox\';\\nimport {Autocomplete as AutocompleteExample} from \'./examples/Autocomplete\';\\n\\nexport default {\\n  title: \'Features/Combobox\',\\n  component: Combobox,\\n  tags: [\'autodocs\'],\\n  parameters: {\\n    docs: {\\n      page: mdxDoc,\\n    },\\n  },\\n} as Meta<typeof Combobox>;\\n\\ntype Story = StoryObj<typeof Combobox>;\\n\\nexport const Autocomplete: Story = {\\n  render: AutocompleteExample,\\n};\\n";\n    // @ts-expect-error (Converted from ts-ignore)\n    var __LOCATIONS_MAP__ = {\n  "Autocomplete": {\n    "startLoc": {\n      "col": 35,\n      "line": 21\n    },\n    "endLoc": {\n      "col": 1,\n      "line": 23\n    },\n    "startBody": {\n      "col": 35,\n      "line": 21\n    },\n    "endBody": {\n      "col": 1,\n      "line": 23\n    }\n  }\n};\n    \nimport {Meta, StoryObj} from \'@storybook/react\';\n\nimport mdxDoc from \'./Combobox.mdx\';\n\nimport {Combobox} from \'@workday/canvas-kit-react/combobox\';\nimport {Autocomplete as AutocompleteExample} from \'./examples/Autocomplete\';\n\nexport default {\n  title: \'Features/Combobox\',\n  component: Combobox,\n  tags: [\'autodocs\'],\n  parameters: {\n  "storySource": {\n    "source": "import {Meta, StoryObj} from \'@storybook/react\';\\n\\nimport mdxDoc from \'./Combobox.mdx\';\\n\\nimport {Combobox} from \'@workday/canvas-kit-react/combobox\';\\nimport {Autocomplete as AutocompleteExample} from \'./examples/Autocomplete\';\\n\\nexport default {\\n  title: \'Features/Combobox\',\\n  component: Combobox,\\n  tags: [\'autodocs\'],\\n  parameters: {\\n    docs: {\\n      page: mdxDoc,\\n    },\\n  },\\n} as Meta<typeof Combobox>;\\n\\ntype Story = StoryObj<typeof Combobox>;\\n\\nexport const Autocomplete: Story = {\\n  render: AutocompleteExample,\\n};\\n",\n    "locationsMap": {\n      "autocomplete": {\n        "startLoc": {\n          "col": 35,\n          "line": 21\n        },\n        "endLoc": {\n          "col": 1,\n          "line": 23\n        },\n        "startBody": {\n          "col": 35,\n          "line": 21\n        },\n        "endBody": {\n          "col": 1,\n          "line": 23\n        }\n      }\n    }\n  }\n,\n    docs: {\n      page: mdxDoc,\n    },\n  },\n} as Meta<typeof Combobox>;\n\ntype Story = StoryObj<typeof Combobox>;\n\nexport const Autocomplete: Story = {\n  render: AutocompleteExample,\n};\n',locationsMap:{autocomplete:{startLoc:{col:35,line:72},endLoc:{col:1,line:74},startBody:{col:35,line:72},endBody:{col:1,line:74}}}},storySource:{source:"import {Meta, StoryObj} from '@storybook/react';\n\nimport mdxDoc from './Combobox.mdx';\n\nimport {Combobox} from '@workday/canvas-kit-react/combobox';\nimport {Autocomplete as AutocompleteExample} from './examples/Autocomplete';\n\nexport default {\n  title: 'Features/Combobox',\n  component: Combobox,\n  tags: ['autodocs'],\n  parameters: {\n    docs: {\n      page: mdxDoc,\n    },\n  },\n} as Meta<typeof Combobox>;\n\ntype Story = StoryObj<typeof Combobox>;\n\nexport const Autocomplete: Story = {\n  render: AutocompleteExample,\n};\n",locationsMap:{autocomplete:{startLoc:{col:35,line:21},endLoc:{col:1,line:23},startBody:{col:35,line:21},endBody:{col:1,line:23}}}},docs:{page:_Combobox.default}}};exports.Autocomplete={render:_Autocomplete.Autocomplete};module.exports.__namedExportsOrder=["Autocomplete"]},"./modules/react/combobox/stories/Combobox.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js"),_home_runner_work_canvas_kit_canvas_kit_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@mdx-js/react/lib/index.js"),_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/addon-docs/dist/index.mjs"),_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./modules/docs/index.ts"),_examples_Autocomplete__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./modules/react/combobox/stories/examples/Autocomplete.tsx"),_Combobox_stories__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./modules/react/combobox/stories/Combobox.stories.ts");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",em:"em",a:"a",blockquote:"blockquote",h2:"h2",h3:"h3",code:"code",ul:"ul",li:"li",pre:"pre"},(0,_home_runner_work_canvas_kit_canvas_kit_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__.RP)(),props.components);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_storybook_addon_docs__WEBPACK_IMPORTED_MODULE_2__.W8,{of:_Combobox_stories__WEBPACK_IMPORTED_MODULE_5__}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h1,{id:"combobox",children:"Combobox"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Combobox is an ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.em,{children:"abstract"})," compound component - it should not be used on its own, but used as a base\nto create combobox components. The Combobox system provides components, models, loaders, and\nelemProps hooks."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:['The term "Combobox" is based on the\n',(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://www.w3.org/WAI/ARIA/apg/patterns/combobox/",target:"_blank",rel:"nofollow noopener noreferrer",children:"Combobox Pattern"})," as defined in the ARIA\nAuthoring Practices Guide (APG):"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.blockquote,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["A ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://w3c.github.io/aria/#combobox",target:"_blank",rel:"nofollow noopener noreferrer",children:"combobox"})," is an input widget with an associated popup\nthat enables users to select a value for the combobox from a collection of possible values."]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:'Examples of a "combobox" would be date pickers, autocomplete, and select components.'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"combobox-value-restriction",children:"Combobox value restriction"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:'A Combobox can either be either "constrained" or "arbitrary".'}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"constrained",children:"Constrained"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["A constrained combobox can only have a value from a set of values presented as options. The user can\npick from these values, but cannot input a value outside the options provided. Constrained\ncomboboxes use the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#usecomboboxinputconstrained",children:"useComboboxInputConstrained"})," hook and often have\ntwo separate ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"input"})," elements."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.ul,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["user input - This is the visible input and it should contain user-friendly values. Calls to\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:".focus()"})," or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:".blur()"})," are redirected to this input. Any prop passed to the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"*.Input"})," component\nthat is not directly related to forms will be passed here (i.e. ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"data-testid"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"aria-*"}),", etc)."]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.li,{children:["\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["form input - This input is only visible to forms and the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"value"})," will usually be server IDs. If\nthe combobox options don't have an ID and only use user values, the value of this input will be\nthe same as the user input. Any prop related to the function of forms will be passed here. For\nexample, the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"name"})," attribute will be passed here. The ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"ref"})," will be pointed to this element."]}),"\n"]}),"\n"]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Select"})," and ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"MultiSelect"})," are examples of constrained comboboxes."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"arbitrary",children:"Arbitrary"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["An arbitrary combobox allows the user to enter any value. The list of options are presented as\nsuggestions and selecting an option will prefill the combobox with the value of the option. The user\nis still allowed to modify the combobox even after an option is entered. With arbitrary comboboxes,\nthere is only one ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"input"})," element. Arbitrary combobox inputs should use the\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#usecomboboxinputarbirary",children:"useComboboxInputArbitrary"})," hook. Typeahead or ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Autocomplete"})," are\nexamples are arbitrary value comboboxes."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"installation",children:"Installation"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.pre,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{className:"language-sh",children:"yarn add @workday/canvas-kit-react\n"})}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"usage",children:"Usage"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"autocomplete",children:"Autocomplete"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["This example shows an Autocomplete example using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"FormField"}),", ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"InputGroup"}),", and the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"Combobox"}),"\ncomponents to make an autocomplete form field. It uses ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"#usecomboboxloader",children:"useComboboxLoader"})," to\nmake mock API calls using ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"setTimeout"}),". Your application may use\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API",target:"_blank",rel:"nofollow noopener noreferrer",children:"fetch"}),",\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/WebSockets_API",target:"_blank",rel:"nofollow noopener noreferrer",children:"WebSockets"}),", or other means of\ncommunicating with a server."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.p,{children:"An Autocomplete is an example of an arbitrary combobox."}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__.ExampleCodeBlock,{code:_examples_Autocomplete__WEBPACK_IMPORTED_MODULE_6__.Autocomplete}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h3,{id:"custom-styles",children:"Custom Styles"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)(_components.p,{children:["Combobox and its subcomponents support custom styling via the ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.code,{children:"cs"})," prop. For more information, check\nour\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.a,{href:"https://workday.github.io/canvas-kit/?path=/docs/styling-guides-customizing-styles--docs",target:"_blank",rel:"nofollow noopener noreferrer",children:'"How To Customize Styles"'}),"."]}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"component-api",children:"Component API"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__.SymbolDoc,{name:"Combobox",fileName:"/react/",hideDescription:!0}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_components.h2,{id:"hooks",children:"Hooks"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__.SymbolDoc,{name:"useComboboxLoader",fileName:"/react/"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__.SymbolDoc,{name:"useComboboxInputConstrained",fileName:"/react/"}),"\n",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_workday_canvas_kit_docs__WEBPACK_IMPORTED_MODULE_3__.SymbolDoc,{name:"useComboboxInputArbitrary",fileName:"/react/"})]})}const __WEBPACK_DEFAULT_EXPORT__=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,_home_runner_work_canvas_kit_canvas_kit_node_modules_storybook_addon_docs_dist_shims_mdx_react_shim__WEBPACK_IMPORTED_MODULE_4__.RP)(),props.components);return MDXLayout?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(MDXLayout,Object.assign({},props,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./modules/react/combobox/stories/examples/Autocomplete.tsx":(__unused_webpack_module,exports,__webpack_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.Autocomplete=void 0;(function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}})(__webpack_require__("./node_modules/react/index.js"));var _common=__webpack_require__("./modules/react/common/index.ts"),_combobox=__webpack_require__("./modules/react/combobox/index.ts"),_formField=__webpack_require__("./modules/react/form-field/index.ts"),_menu=__webpack_require__("./modules/react/menu/index.ts"),_loadingDots=__webpack_require__("./modules/react/loading-dots/index.ts"),_textInput=__webpack_require__("./modules/react/text-input/index.ts"),_canvasKitStyling=__webpack_require__("./modules/styling/index.ts"),_canvasTokensWeb=__webpack_require__("./node_modules/@workday/canvas-tokens-web/dist/es6/index.js"),_jsxRuntime=__webpack_require__("./node_modules/react/jsx-runtime.js");const colors=["Red","Blue","Purple","Green","Pink"],fruits=["Apple","Orange","Banana","Grape","Lemon","Lime"],options=Array(1e3).fill("").map(((_,index)=>`${colors[index%colors.length]} ${fruits[index%fruits.length]} ${index+1}`)),useAutocompleteInput=(0,_common.composeHooks)((0,_common.createElemPropsHook)(_combobox.useComboboxModel)((model=>({onKeyPress(event){model.events.show(event)}}))),_combobox.useComboboxInputArbitrary,_combobox.useComboboxInput),loadingDotsStencil=(0,_canvasKitStyling.createStencil)({base:{transition:"opacity 100ms ease",'& [data-part="loading-dots"]':{display:"flex",transform:"scale(0.3)"}},modifiers:{isLoading:{true:{opacity:_canvasTokensWeb.system.opacity.full},false:{opacity:_canvasTokensWeb.system.opacity.zero}}}}),AutoCompleteInput=(0,_common.createSubcomponent)(_textInput.TextInput)({modelHook:_combobox.useComboboxModel,elemPropsHook:useAutocompleteInput})((({isLoading,...elemProps},Element)=>(0,_jsxRuntime.jsxs)(_textInput.InputGroup,{children:[(0,_jsxRuntime.jsx)(_textInput.InputGroup.Input,{as:Element,...elemProps}),(0,_jsxRuntime.jsx)(_textInput.InputGroup.InnerEnd,{cs:loadingDotsStencil({isLoading}),width:(0,_canvasKitStyling.px2rem)(20),"data-loading":isLoading,children:(0,_jsxRuntime.jsx)(_loadingDots.LoadingDots,{"data-part":"loading-dots"})}),(0,_jsxRuntime.jsx)(_textInput.InputGroup.InnerEnd,{children:(0,_jsxRuntime.jsx)(_textInput.InputGroup.ClearButton,{"data-testid":"clear"})})]}))),Autocomplete=()=>{const{model,loader}=(0,_combobox.useComboboxLoader)({total:0,pageSize:20,load:async({pageNumber,pageSize,filter})=>new Promise((resolve=>{setTimeout((()=>{const start=(pageNumber-1)*pageSize,end=start+pageSize,filteredItems=options.filter((item=>""===filter||"string"!=typeof filter||item.toLowerCase().includes(filter.toLowerCase()))),total=filteredItems.length,items=filteredItems.slice(start,end);resolve({items,total})}),300)})),onShow(){loader.load()}},_combobox.useComboboxModel);return(0,_jsxRuntime.jsxs)(_formField.FormField,{orientation:"horizontalStart",isRequired:!0,children:[(0,_jsxRuntime.jsx)(_formField.FormField.Label,{children:"Fruit"}),(0,_jsxRuntime.jsx)(_formField.FormField.Field,{children:(0,_jsxRuntime.jsxs)(_combobox.Combobox,{model,onChange:event=>console.log("input",event.currentTarget.value),children:[(0,_jsxRuntime.jsx)(_formField.FormField.Input,{as:AutoCompleteInput,isLoading:loader.isLoading}),(0,_jsxRuntime.jsx)(_combobox.Combobox.Menu.Popper,{children:(0,_jsxRuntime.jsxs)(_combobox.Combobox.Menu.Card,{children:[0===model.state.items.length&&(0,_jsxRuntime.jsx)(_menu.StyledMenuItem,{as:"span",children:"No Results Found"}),model.state.items.length>0&&(0,_jsxRuntime.jsx)(_combobox.Combobox.Menu.List,{maxHeight:(0,_canvasKitStyling.px2rem)(200),children:item=>(0,_jsxRuntime.jsx)(_combobox.Combobox.Menu.Item,{children:item})})]})})]})})]})};exports.Autocomplete=Autocomplete,Autocomplete.displayName="Autocomplete",Autocomplete.__RAW__="import React from 'react';\n\nimport {\n  createElemPropsHook,\n  createSubcomponent,\n  composeHooks,\n} from '@workday/canvas-kit-react/common';\nimport {LoadReturn} from '@workday/canvas-kit-react/collection';\nimport {\n  Combobox,\n  useComboboxModel,\n  useComboboxLoader,\n  useComboboxInput,\n  useComboboxInputArbitrary,\n} from '@workday/canvas-kit-react/combobox';\nimport {FormField} from '@workday/canvas-kit-react/form-field';\nimport {StyledMenuItem} from '@workday/canvas-kit-react/menu';\nimport {LoadingDots} from '@workday/canvas-kit-react/loading-dots';\nimport {InputGroup, TextInput} from '@workday/canvas-kit-react/text-input';\nimport {createStencil, px2rem} from '@workday/canvas-kit-styling';\nimport {system} from '@workday/canvas-tokens-web';\n\nconst colors = ['Red', 'Blue', 'Purple', 'Green', 'Pink'];\nconst fruits = ['Apple', 'Orange', 'Banana', 'Grape', 'Lemon', 'Lime'];\nconst options = Array(1000)\n  .fill('')\n  .map((_, index) => {\n    return `${colors[index % colors.length]} ${fruits[index % fruits.length]} ${index + 1}`;\n  });\n\nconst useAutocompleteInput = composeHooks(\n  createElemPropsHook(useComboboxModel)(model => {\n    return {\n      onKeyPress(event: React.KeyboardEvent) {\n        model.events.show(event);\n      },\n    };\n  }),\n  useComboboxInputArbitrary,\n  useComboboxInput\n);\n\nconst loadingDotsStencil = createStencil({\n  base: {\n    transition: 'opacity 100ms ease',\n    '& [data-part=\"loading-dots\"]': {\n      display: 'flex',\n      transform: 'scale(0.3)',\n    },\n  },\n  modifiers: {\n    isLoading: {\n      true: {\n        opacity: system.opacity.full,\n      },\n      false: {\n        opacity: system.opacity.zero,\n      },\n    },\n  },\n});\n\nconst AutoCompleteInput = createSubcomponent(TextInput)({\n  modelHook: useComboboxModel,\n  elemPropsHook: useAutocompleteInput,\n})<{isLoading?: boolean}>(({isLoading, ...elemProps}, Element) => {\n  return (\n    <InputGroup>\n      <InputGroup.Input as={Element} {...elemProps} />\n      <InputGroup.InnerEnd\n        cs={loadingDotsStencil({isLoading})}\n        width={px2rem(20)}\n        data-loading={isLoading}\n      >\n        <LoadingDots data-part=\"loading-dots\" />\n      </InputGroup.InnerEnd>\n      <InputGroup.InnerEnd>\n        <InputGroup.ClearButton data-testid=\"clear\" />\n      </InputGroup.InnerEnd>\n    </InputGroup>\n  );\n});\n\nexport const Autocomplete = () => {\n  const {model, loader} = useComboboxLoader(\n    {\n      // You can start with any number that makes sense.\n      total: 0,\n\n      // Pick whatever number makes sense for your API\n      pageSize: 20,\n\n      // A load function that will be called by the loader. You must return a promise that returns\n      // an object like `{items: [], total: 0}`. The `items` will be merged into the loader's cache\n      async load({pageNumber, pageSize, filter}) {\n        return new Promise<LoadReturn<string>>(resolve => {\n          // simulate a server response by resolving after a period of time\n          setTimeout(() => {\n            // simulate paging and filtering based on pre-computed items\n            const start = (pageNumber - 1) * pageSize;\n            const end = start + pageSize;\n            const filteredItems = options.filter(item => {\n              if (filter === '' || typeof filter !== 'string') {\n                return true;\n              }\n              return item.toLowerCase().includes(filter.toLowerCase());\n            });\n\n            const total = filteredItems.length;\n            const items = filteredItems.slice(start, end);\n\n            resolve({\n              items,\n              total,\n            });\n          }, 300);\n        });\n      },\n      onShow() {\n        // The `shouldLoad` cancels while the combobox menu is hidden, so let's load when it is\n        // visible\n        loader.load();\n      },\n    },\n    useComboboxModel\n  );\n\n  return (\n    <FormField orientation=\"horizontalStart\" isRequired>\n      <FormField.Label>Fruit</FormField.Label>\n      <FormField.Field>\n        <Combobox model={model} onChange={event => console.log('input', event.currentTarget.value)}>\n          <FormField.Input as={AutoCompleteInput} isLoading={loader.isLoading} />\n          <Combobox.Menu.Popper>\n            <Combobox.Menu.Card>\n              {model.state.items.length === 0 && (\n                <StyledMenuItem as=\"span\">No Results Found</StyledMenuItem>\n              )}\n              {model.state.items.length > 0 && (\n                <Combobox.Menu.List maxHeight={px2rem(200)}>\n                  {item => <Combobox.Menu.Item>{item}</Combobox.Menu.Item>}\n                </Combobox.Menu.List>\n              )}\n            </Combobox.Menu.Card>\n          </Combobox.Menu.Popper>\n        </Combobox>\n      </FormField.Field>\n    </FormField>\n  );\n};\n"}}]);